<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¸èª²è©¢å•è«–å£‡</title>
    <style>
        body {
            font-family: "Microsoft JhengHei", Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }

        /* å°è¦½åˆ—å®¹å™¨ */
        .navbar {
            background-color: #34495e;
            display: flex;
            justify-content: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* å°è¦½åˆ—æ¸…å–® */
        .nav-list {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
        }

        /* ä¸»é¸å–®é …ç›® */
        .nav-item {
            position: relative;
        }

        /* ä¸»é¸å–®é€£çµæ¨£å¼ */
        .nav-link {
            display: block;
            padding: 15px 25px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            transition: background 0.3s;
            cursor: pointer;
        }

        .nav-link:hover {
            background-color: #2c3e50;
        }

        /* ä¸‹æ‹‰é¸å–®å®¹å™¨ (é è¨­éš±è—) */
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #ffffff;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 0 0 4px 4px;
        }

        /* ç•¶æ»‘é¼ ç§»é .nav-item æ™‚é¡¯ç¤ºä¸‹æ‹‰é¸å–® */
        .nav-item:hover .dropdown-content {
            display: block;
        }

        /* ä¸‹æ‹‰é¸å–®å…§çš„é€£çµ */
        .dropdown-content a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
            border-bottom: 1px solid #eee;
            font-size: 0.95em;
        }

        .dropdown-content a:hover {
            background-color: #f1f1f1;
            color: #007bff;
        }

        /* ç›®å‰æ‰€åœ¨çš„åˆ†é¡æç¤º */
        .current-category {
            text-align: center;
            margin: 20px auto;
            max-width: 800px;
            padding: 10px;
            background: #e8f4fc;
            border-left: 5px solid #007bff;
            border-radius: 4px;
        }

        /* è«–å£‡æœ¬é«”å®¹å™¨ */
        .forum-wrapper {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body>

<header>
    <h1>ğŸš€ é¸èª²å•é¡Œè©¢å•è«–å£‡</h1>
    <p>è§£æ±ºä½ å°èª²ç¨‹çš„æ‰€æœ‰ç–‘å•</p>
</header>

<nav class="navbar">
    <ul class="nav-list">
        <li class="nav-item">
            <a href="?cat=å…¬å‘Š" class="nav-link">ğŸ  é¦–é  (å…¬å‘Š)</a>
        </li>

        <li class="nav-item">
            <span class="nav-link">ğŸ“ æ•™è‚²å­¸é™¢ â–¾</span>
            <div class="dropdown-content">
                <a href="?cat=æ•™è‚²">æ•™è‚²å­¸ç³»</a>
                <a href="?cat=å¹¼æ•™">å¹¼å…’æ•™è‚²å­¸ç³»</a>
                <a href="?cat=ç‰¹æ•™">ç‰¹æ®Šæ•™è‚²å­¸ç³»</a>
                <a href="?cat=æ•™ç¶“">æ•™è‚²ç¶“ç‡Ÿèˆ‡ç®¡ç†</a>
                <a href="?cat=å¿ƒè«®">å¿ƒç†èˆ‡è«®å•†</a>
                <a href="?cat=ç¤¾ç™¼">ç¤¾æœƒèˆ‡å€åŸŸç™¼å±•</a>
            </div>
        </li>

        <li class="nav-item">
            <span class="nav-link">ğŸ¨ äººæ–‡è—è¡“å­¸é™¢ â–¾</span>
            <div class="dropdown-content">
                <a href="?cat=èªå‰µ">èªæ–‡èˆ‡å‰µä½œå­¸ç³»</a>
                <a href="?cat=å…’è‹±">å…’ç«¥è‹±èªæ•™è‚²</a>
                <a href="?cat=éŸ³æ¨‚">éŸ³æ¨‚å­¸ç³»</a>
                <a href="?cat=è—è¨­">è—è¡“èˆ‡é€ å½¢è¨­è¨ˆ</a>
                <a href="?cat=æ–‡å‰µ">æ–‡åŒ–å‰µæ„ç”¢æ¥­</a>
            </div>
        </li>

        <li class="nav-item">
            <span class="nav-link">ğŸ”¬ ç†å­¸é™¢ â–¾</span>
            <div class="dropdown-content">
                <a href="?cat=æ•¸è³‡">æ•¸å­¸æš¨è³‡è¨Šæ•™è‚²</a>
                <a href="?cat=è‡ªç„¶">è‡ªç„¶ç§‘å­¸æ•™è‚²</a>
                <a href="?cat=è³‡ç§‘">è³‡è¨Šç§‘å­¸</a>
                <a href="?cat=æ•¸ä½">æ•¸ä½ç§‘æŠ€è¨­è¨ˆ</a>
                <a href="?cat=é«”è‚²">é«”è‚²å­¸ç³»</a>
            </div>
        </li>

        <li class="nav-item">
            <span class="nav-link">â“ å…¶ä»– â–¾</span>
            <div class="dropdown-content">
                <a href="?cat=é€šè­˜">é€šè­˜èª²ç¨‹</a>
                <a href="?cat=å…¶ä»–">å…¶ä»–å•é¡Œ</a>
            </div>
        </li>
    </ul>
</nav>

<div id="status-bar" class="current-category">
    æ­£åœ¨ç€è¦½ï¼š<span id="category-name" style="font-weight: bold;">è¼‰å…¥ä¸­...</span>
</div>

<div class="forum-wrapper">
    <div class="giscus"></div>
</div>

<script>
    // 1. å®šç¾©åˆ†é¡ Map
    const categoryMap = {
        'å…¬å‘Š': 'DIC_kwDOQzwF0c4C0lJA',
        'å…’è‹±': 'DIC_kwDOQzwF0c4C0lNi',
        'å…¶ä»–': 'DIC_kwDOQzwF0c4C0lN5',
        'å¹¼æ•™': 'DIC_kwDOQzwF0c4C0lNd',
        'å¿ƒè«®': 'DIC_kwDOQzwF0c4C0lNf',
        'æ•™ç¶“': 'DIC_kwDOQzwF0c4C0lNb',
        'æ•™è‚²': 'DIC_kwDOQzwF0c4C0lNc',
        'æ•¸ä½': 'DIC_kwDOQzwF0c4C0lNw',
        'æ•¸è³‡': 'DIC_kwDOQzwF0c4C0lNm',
        'æ–‡å‰µ': 'DIC_kwDOQzwF0c4C0lNl',
        'ç‰¹æ•™': 'DIC_kwDOQzwF0c4C0lNe',
        'ç¤¾ç™¼': 'DIC_kwDOQzwF0c4C0lNg',
        'è‡ªç„¶': 'DIC_kwDOQzwF0c4C0lNn',
        'è—è¨­': 'DIC_kwDOQzwF0c4C0lNj',
        'èªå‰µ': 'DIC_kwDOQzwF0c4C0lNh',
        'è³‡ç§‘': 'DIC_kwDOQzwF0c4C0lNv',
        'é€šè­˜': 'DIC_kwDOQzwF0c4C0lNx',
        'éŸ³æ¨‚': 'DIC_kwDOQzwF0c4C0lNk',
        'é«”è‚²': 'DIC_kwDOQzwF0c4C0lNo'
    };

    // 2. å–å¾—ç¶²å€åƒæ•¸
    const urlParams = new URLSearchParams(window.location.search);
    let cat = urlParams.get('cat');

    // 3. è¨­å®šé è¨­å€¼ (å¦‚æœæ²’æœ‰åƒæ•¸ï¼Œæˆ–åƒæ•¸ä¸å­˜åœ¨æ–¼ map ä¸­ï¼Œå°±é è¨­ç‚º "å…¬å‘Š")
    if (!cat || !categoryMap[cat]) {
        cat = 'å…¬å‘Š';
    }

    const targetId = categoryMap[cat];

    // 4. æ›´æ–°é é¢ä¸Šçš„ç‹€æ…‹æ–‡å­—
    document.getElementById('category-name').textContent = cat + " è¨è«–å€";

    // 5. å‹•æ…‹è¼‰å…¥ Giscus
    const script = document.createElement('script');
    script.src = "https://giscus.app/client.js";
    script.setAttribute('data-repo', "garylin0909/forum");
    script.setAttribute('data-repo-id', "R_kgDOQzwF0Q");
    script.setAttribute('data-category-id', targetId);
    script.setAttribute('data-mapping', "pathname");
    script.setAttribute('data-strict', "0");
    script.setAttribute('data-reactions-enabled', "1");
    script.setAttribute('data-emit-metadata', "0");
    script.setAttribute('data-input-position', "top");
    script.setAttribute('data-theme', "preferred_color_scheme");
    script.setAttribute('data-lang', "zh-TW");
    script.setAttribute('crossorigin', "anonymous");
    script.async = true;
    document.body.appendChild(script);
</script>

</body>
</html>